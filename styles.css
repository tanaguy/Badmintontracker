/* ================================
   BADMINTON TRACKER - STYLES v2.0
   ================================ */
* { margin: 0; padding: 0; box-sizing: border-box; }
:root {
    --primary: #3B82F6; --primary-dark: #2563EB;
    --success: #10B981; --success-dark: #059669;
    --danger: #EF4444; --danger-dark: #DC2626;
    --warning: #F59E0B; --purple: #8B5CF6;
    --gray-50: #F9FAFB; --gray-100: #F3F4F6; --gray-200: #E5E7EB;
    --gray-300: #D1D5DB; --gray-400: #9CA3AF; --gray-500: #6B7280;
    --gray-700: #374151; --gray-900: #111827;
    --radius: 0.75rem; --shadow: 0 2px 8px rgba(0,0,0,0.08);
}
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: var(--gray-50); color: var(--gray-900);
    line-height: 1.5; -webkit-font-smoothing: antialiased;
}

/* ========== LAYOUT ========== */
.app-container { max-width: 768px; margin: 0 auto; background: white; min-height: 100vh; display: flex; flex-direction: column; }

.app-header { background: var(--primary); color: white; padding: 1rem; text-align: center; }
.app-header h1 { font-size: 1.5rem; font-weight: 700; letter-spacing: -0.3px; }

/* ========== TABS ========== */
.tab-nav { display: flex; background: white; border-bottom: 1px solid var(--gray-200); position: sticky; top: 0; z-index: 10; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
.tab-btn { flex: 1; padding: .6rem .5rem; border: none; background: transparent; color: var(--gray-500); font-size: .8rem; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: .2rem; border-bottom: 2px solid transparent; transition: all .2s; }
.tab-btn.active { color: var(--primary); border-bottom-color: var(--primary); font-weight: 600; }
.tab-icon { font-size: 1.2rem; }
.tab-content { flex: 1; overflow-y: auto; -webkit-overflow-scrolling: touch; }
.tab-pane { display: none; padding: 1rem; animation: fadeIn .25s; }
.tab-pane.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: none; } }

/* ========== EMPTY STATES ========== */
.empty-state { text-align: center; padding: 3rem 1.5rem; }
.empty-state-small { text-align: center; padding: 2rem 1rem; }
.empty-icon { font-size: 4rem; margin-bottom: 1rem; }
.empty-state h2, .empty-state h3 { margin-bottom: .5rem; }
.empty-state p { color: var(--gray-500); margin-bottom: 1.5rem; }

/* ========== BUTTONS ========== */
.btn { padding: .75rem 1.5rem; border: none; border-radius: .5rem; font-size: 1rem; font-weight: 500; cursor: pointer; transition: all .15s; display: inline-flex; align-items: center; justify-content: center; gap: .4rem; }
.btn:active { transform: scale(.97); }
.btn-primary { background: var(--primary); color: white; }
.btn-primary:hover { background: var(--primary-dark); }
.btn-success { background: var(--success); color: white; }
.btn-success:hover { background: var(--success-dark); }
.btn-danger { background: var(--danger); color: white; }
.btn-danger:hover { background: var(--danger-dark); }
.btn-secondary { background: var(--gray-200); color: var(--gray-700); }
.btn-sm { padding: .45rem 1rem; font-size: .875rem; }
.btn-large { width: 100%; padding: 1rem; font-size: 1.1rem; margin-bottom: 1rem; }

/* Delete button (inline in list rows) */
.delete-btn { background: none; border: none; font-size: 1.2rem; cursor: pointer; padding: .5rem; border-radius: .5rem; color: var(--gray-400); transition: all .15s; flex-shrink: 0; }
.delete-btn:hover { background: var(--danger); color: white; }

/* Icon buttons (in history) */
.icon-btn { background: none; border: 1px solid var(--gray-200); border-radius: .4rem; cursor: pointer; padding: .3rem .5rem; font-size: 1rem; transition: all .15s; }
.icon-btn:hover { background: var(--gray-100); }
.icon-btn.danger:hover { background: var(--danger); border-color: var(--danger); }

/* ========== SESSION ========== */
.session-header { background: var(--gray-50); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--gray-200); }
.session-info h2 { font-size: 1.2rem; margin-bottom: .2rem; }
.session-info p { color: var(--gray-500); font-size: .875rem; }

/* ========== MATCH QUEUE ========== */
.match-queue { margin-top: .5rem; }
.match-card { background: var(--gray-50); border-radius: var(--radius); padding: 1rem; margin-bottom: .75rem; cursor: pointer; border: 1px solid var(--gray-200); transition: all .2s; }
.match-card:hover { border-color: var(--primary); box-shadow: 0 0 0 2px rgba(59,130,246,.15); transform: translateY(-1px); }
.match-card:active { transform: scale(.98); }
.match-card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: .75rem; }
.match-number-label { font-weight: 700; font-size: .95rem; color: var(--gray-700); }
.match-teams { display: flex; align-items: center; gap: 1rem; }
.match-team { flex: 1; display: flex; flex-direction: column; gap: .4rem; }
.match-vs { font-weight: 700; color: var(--gray-400); font-size: .9rem; flex-shrink: 0; }
.tap-hint { text-align: right; font-size: .75rem; color: var(--gray-400); margin-top: .5rem; }

/* ========== PLAYER BADGE (in match queue) ========== */
.player-badge { display: flex; align-items: center; gap: .4rem; padding: .35rem .5rem; background: white; border-radius: .5rem; border: 1px solid var(--gray-200); }
.avatar { width: 28px; height: 28px; border-radius: 50%; background: var(--primary); color: white; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: .8rem; flex-shrink: 0; overflow: hidden; }
.avatar img { width: 100%; height: 100%; object-fit: cover; }
.player-name { font-size: .82rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* ========== PLAYERS LIST ========== */
.list-container { background: white; }
.player-row { display: flex; align-items: center; gap: .75rem; padding: .875rem 1rem; border-bottom: 1px solid var(--gray-100); }
.player-row:hover { background: var(--gray-50); }
.avatar-large { width: 48px; height: 48px; border-radius: 50%; background: var(--primary); color: white; display: flex; align-items: center; justify-content: center; font-size: 1.4rem; font-weight: 700; flex-shrink: 0; overflow: hidden; cursor: pointer; }
.avatar-large img { width: 100%; height: 100%; object-fit: cover; }
.player-info { flex: 1; min-width: 0; cursor: pointer; }
.player-info h3 { font-size: 1rem; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.player-stats { font-size: .82rem; color: var(--gray-500); margin-top: .1rem; }

/* ========== RANKINGS ========== */
.ranking-row { display: flex; align-items: center; gap: .75rem; padding: .75rem 1rem; border-bottom: 1px solid var(--gray-100); }
.ranking-row.top-3 { background: linear-gradient(90deg, rgba(251,191,36,.04), transparent); }
.rank-badge { width: 44px; height: 44px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1rem; flex-shrink: 0; }
.rank-1 { background: rgba(251,191,36,.2); color: #D97706; }
.rank-2 { background: rgba(156,163,175,.2); color: #6B7280; }
.rank-3 { background: rgba(245,158,11,.15); color: #B45309; }
.rank-other { background: rgba(59,130,246,.1); color: var(--primary); }
.player-winrate { text-align: right; flex-shrink: 0; }
.winrate-value { font-size: 1.2rem; font-weight: 700; color: var(--primary); }
.winrate-label { font-size: .72rem; color: var(--gray-500); }

/* ========== TAB HEADER ========== */
.tab-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
.tab-header h2 { font-size: 1.4rem; font-weight: 700; }

/* ========== SEGMENTED CONTROL ========== */
.segmented-control { display: flex; background: var(--gray-100); border-radius: .5rem; padding: .2rem; }
.seg-btn { flex: 1; padding: .4rem .75rem; border: none; background: transparent; border-radius: .375rem; font-size: .875rem; font-weight: 500; cursor: pointer; transition: all .2s; color: var(--gray-500); white-space: nowrap; }
.seg-btn.active { background: white; color: var(--primary); box-shadow: 0 1px 3px rgba(0,0,0,.1); font-weight: 600; }

/* ========== HISTORY ========== */
.history-item { padding: .875rem 1rem; border-bottom: 1px solid var(--gray-100); }
.history-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: .5rem; gap: .5rem; }
.history-header h3 { font-size: .95rem; font-weight: 600; }
.badge-active { display: inline-block; padding: .2rem .6rem; background: var(--success); color: white; border-radius: 1rem; font-size: .72rem; font-weight: 700; }
.match-result { display: flex; align-items: center; gap: .75rem; margin: .5rem 0; }
.team-result { flex: 1; font-size: .9rem; display: flex; align-items: center; gap: .4rem; flex-wrap: wrap; }
.team-result.winner { font-weight: 700; color: var(--success-dark); }
.team-result.right { justify-content: flex-end; text-align: right; }
.vs-divider { font-size: .8rem; font-weight: 700; color: var(--gray-400); flex-shrink: 0; }
.score-chip { display: inline-block; background: var(--gray-100); border-radius: .4rem; padding: .1rem .4rem; font-size: .8rem; font-weight: 700; color: var(--gray-700); }

/* ========== MODALS ========== */
.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,.5); z-index: 100; animation: fadeIn .2s; }
.modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; border-radius: 1rem; max-width: 92%; width: 480px; max-height: 92vh; overflow: hidden; z-index: 101; display: flex; flex-direction: column; animation: slideUp .25s; }
@keyframes slideUp { from { opacity: 0; transform: translate(-50%, -44%); } to { opacity: 1; transform: translate(-50%, -50%); } }
.modal-header { padding: 1.1rem 1.25rem; border-bottom: 1px solid var(--gray-200); display: flex; justify-content: space-between; align-items: center; }
.modal-header h2 { font-size: 1.15rem; font-weight: 700; }
.close-btn { width: 30px; height: 30px; border-radius: 50%; border: none; background: var(--gray-100); cursor: pointer; font-size: 1rem; color: var(--gray-600); display: flex; align-items: center; justify-content: center; }
.close-btn:hover { background: var(--gray-200); }
.modal-body { padding: 1.25rem; overflow-y: auto; flex: 1; }
.modal-footer { padding: .875rem 1.25rem; border-top: 1px solid var(--gray-200); display: flex; gap: .6rem; justify-content: flex-end; }
.modal-footer .btn { flex: 1; }
.modal-footer-split { justify-content: space-between; }
.footer-right { display: flex; gap: .6rem; }
.footer-right .btn { flex: none; }

/* ========== FORM ========== */
.form-group { margin-bottom: 1.1rem; }
.form-group label { display: block; margin-bottom: .4rem; font-weight: 500; color: var(--gray-700); font-size: .9rem; }
.label-hint { font-weight: 400; color: var(--gray-400); font-size: .8rem; }
.input { width: 100%; padding: .7rem .875rem; border: 1.5px solid var(--gray-300); border-radius: .5rem; font-size: 1rem; transition: border-color .2s; }
.input:focus { outline: none; border-color: var(--primary); }
.text-center { text-align: center; }
.checkbox { width: 1.1rem; height: 1.1rem; margin-right: .4rem; vertical-align: middle; accent-color: var(--primary); }
.checkbox-label { display: flex; align-items: center; cursor: pointer; font-weight: 500; }
.help-text { font-size: .8rem; color: var(--gray-500); margin-top: .3rem; }
.text-muted { color: var(--gray-500); }

/* ========== SKILL SELECTOR ========== */
.skill-selector { display: grid; grid-template-columns: repeat(5, 1fr); gap: .4rem; }
.skill-btn { padding: .5rem .2rem; border: 1.5px solid var(--gray-300); background: white; border-radius: .5rem; cursor: pointer; font-size: .75rem; transition: all .15s; text-align: center; }
.skill-btn.active { border-color: var(--primary); background: rgba(59,130,246,.1); color: var(--primary); font-weight: 700; }

/* ========== STEPPER ========== */
.stepper { display: flex; align-items: center; gap: 1.5rem; justify-content: center; }
.stepper-btn { width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--primary); background: white; color: var(--primary); font-size: 1.5rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all .15s; line-height: 1; }
.stepper-btn:hover { background: var(--primary); color: white; }
.stepper span { font-size: 1.5rem; font-weight: 700; min-width: 2rem; text-align: center; }

/* ========== PLAYER SELECT LIST ========== */
.player-select-list { max-height: 280px; overflow-y: auto; border: 1.5px solid var(--gray-200); border-radius: .5rem; }
.player-select-item { display: flex; align-items: center; gap: .75rem; padding: .7rem 1rem; cursor: pointer; transition: background .15s; border-bottom: 1px solid var(--gray-100); }
.player-select-item:last-child { border-bottom: none; }
.player-select-item:hover { background: var(--gray-50); }
.player-select-item.selected { background: rgba(59,130,246,.06); }
.check-icon { font-size: 1.1rem; color: var(--primary); font-weight: 700; }

/* ========== AVATAR PICKER ========== */
.avatar-picker { text-align: center; }
.avatar-upload { width: 90px; height: 90px; border: 2px dashed var(--gray-300); margin: 0 auto .5rem; cursor: pointer; transition: border-color .2s; font-size: 1rem; }
.avatar-upload:hover { border-color: var(--primary); }
.avatar-placeholder { font-size: 1.75rem; }

/* ========== WINNER SELECTION ========== */
.winner-selection { display: flex; gap: .875rem; margin-top: .5rem; }
.winner-btn { flex: 1; padding: .875rem; border: 2px solid var(--gray-200); background: white; border-radius: var(--radius); cursor: pointer; transition: all .2s; text-align: center; }
.winner-btn:hover { border-color: var(--gray-400); }
.winner-btn.selected { border-color: var(--success); background: rgba(16,185,129,.08); }
.winner-btn h4 { font-size: .95rem; font-weight: 700; margin-bottom: .3rem; }
.winner-btn .team-names { font-size: .8rem; color: var(--gray-500); margin-bottom: .4rem; line-height: 1.3; }
.winner-btn .winner-label { font-size: .85rem; font-weight: 600; color: var(--gray-600); }
.winner-btn.selected .winner-label { color: var(--success-dark); }

/* ========== SCORE ENTRY ========== */
.score-entry { margin-top: .75rem; padding: .875rem; background: var(--gray-50); border-radius: .5rem; }
.score-input-row { display: flex; align-items: flex-end; gap: .75rem; }
.score-input-group { flex: 1; }
.score-input-group label { font-size: .8rem; color: var(--gray-600); margin-bottom: .3rem; display: block; }
.score-separator { font-size: 1.4rem; font-weight: 700; color: var(--gray-400); padding-bottom: .5rem; }

/* ========== MATCH TYPE BADGE ========== */
.match-type-badge { display: inline-block; padding: .25rem .7rem; border-radius: 1rem; font-size: .75rem; font-weight: 700; color: white; }
.match-type-singles { background: var(--primary); }
.match-type-doubles { background: var(--purple); }

/* ========== UNDO TOAST ========== */
.undo-toast { position: fixed; bottom: 1.5rem; left: 50%; transform: translateX(-50%) translateY(100px); background: #1F2937; color: white; padding: .875rem 1rem; border-radius: var(--radius); display: flex; align-items: center; gap: .75rem; z-index: 200; width: calc(100% - 2rem); max-width: 480px; box-shadow: 0 8px 24px rgba(0,0,0,.2); transition: transform .3s cubic-bezier(.34,1.56,.64,1); }
.undo-toast.show { transform: translateX(-50%) translateY(0); }
.undo-toast span { flex: 1; font-size: .9rem; }
.undo-btn { background: var(--primary); border: none; color: white; padding: .4rem .875rem; border-radius: .375rem; cursor: pointer; font-weight: 700; font-size: .875rem; flex-shrink: 0; }
.undo-btn:hover { background: var(--primary-dark); }
.undo-dismiss { background: none; border: none; color: var(--gray-400); cursor: pointer; font-size: 1.1rem; padding: .2rem; flex-shrink: 0; }

/* ========== REGULAR TOAST ========== */
.toast { position: fixed; top: 1rem; left: 50%; transform: translateX(-50%) translateY(-80px); background: #1F2937; color: white; padding: .7rem 1.25rem; border-radius: 2rem; font-size: .9rem; z-index: 300; transition: transform .3s cubic-bezier(.34,1.56,.64,1); white-space: nowrap; max-width: calc(100% - 2rem); text-align: center; box-shadow: var(--shadow); }
.toast.show { transform: translateX(-50%) translateY(0); }
.toast.error { background: var(--danger); }
.toast.success { background: #1F2937; }

/* ========== HIDDEN ========== */
.hidden { display: none !important; }

/* ========== MOBILE ========== */
@media (max-width: 480px) {
    .skill-selector { grid-template-columns: repeat(3, 1fr); }
    .winner-selection { flex-direction: column; gap: .6rem; }
    .modal-footer-split { flex-direction: column-reverse; gap: .5rem; }
    .footer-right { width: 100%; }
    .footer-right .btn { flex: 1; }
}
